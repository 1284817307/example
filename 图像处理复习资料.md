# 图像处理

## 基础知识

### 图像

- 图像：定义为二维函数f(x，y)，其中，x、y是空间坐标，f(x，y)是点(x，y)的幅值。
- 灰度图像：是一个二维灰度（或亮度）函数f(x，y)。
- 彩色图像：由三个（如RGB，HSV）二维灰度（或亮度）函数f(x，y)组成。

### 像素

- 用来定义  ***数字图像元素***   的最广泛术语（除此之外还可称为图片元素、图像元素）。
- 数字图像由二维的元素组成，每一个元素具有一个特定的位置(x，y)和幅值f(x，y)，这些元素就称为像素。

### 灰度

- 像素的颜色（值）。

### 数字图像

- 像素组成的二维排列，可用矩阵表示。
- 对于单色（灰度）图像而言，每个像素的亮度用一个数值来表示。通常数值范围在0到255之间，0表示黑、255表示白，其它值表示处于黑白之间的灰度。
- 彩色图像可以用红、绿、蓝三元组的二维矩阵来表示。通常，三元组的每个数值也是在0到255之间，0表示相应的基色在该像素中没有，而255则代表相应的基色在该像素中取得最大值。

### 图像的质量

#### 对比度

- 是指一幅图像中灰度反差的大小

$$
对比度 = 最大亮度 / 最小亮度
$$

#### 灰度级

- 表示像素明暗程度的整数量。

#### 层次

- 表示图像实际拥有的灰度级的数量。

### 像素间的一些基本关系

- 领域：4—邻域、D—邻域、8—邻域
  - D—邻域：

![](C:\Users\HP\Desktop\4158488-e7f4eaa87f4367ca.webp)

- 连通性：4—连通、8—连通、m—连通

  - m—连通（混合连通）：

    对于灰度值在V集合中的像素p和q，如果：

    1. q在p的4邻域中
    2. q在p的4邻域中

    那么称这两个像素是是m连通的，即4连通和D连通的混合连通。

    m连通（混合连通）是8连通的改进版，这个概念的提出就是为了消除8连通的二义性。

![](C:\Users\HP\Desktop\4158488-842e7913041974b0.webp)

- 距离

  - 欧式距离：两点间的直线距离。
  - D4距离（城市距离）：

  ![](C:\Users\HP\Desktop\4158488-14a34018c2ba2e8d.png)

  - D8距离（棋盘距离）：

  ![](C:\Users\HP\Desktop\4158488-dc3e0702f8540f37.png)

## 图像增强

### 空间域增强

- 对图像的像素直接处理。

- $$
  空间域增强：g(x,y)=T[f(x,y)]
  $$

  - f(x，y)是原图像。

  - g(x，y)是处理后的图像。

  - T是作用于f的操作，定义在(x，y)的邻域。

- $$
  简化形式： s=T(r)
  $$

  - r是f(x，y)在任意点(x，y)的灰度级
  - s是g(x，y)在任意点(x，y)的灰度级

### 频域增强

- 修改图像的傅里叶变换。

## 第二章（空间域增强）

### 灰度变换

#### 灰度（对比度）拉伸、压缩

- 横坐标是输入灰度，纵坐标是输出灰度（做题时要看清横纵坐标所表示的内容）。
- 拉伸（斜率>1）会使图像变亮，压缩（斜率<1）会使图像变暗。

#### 灰度直方图

- 横坐标表示灰度值，纵坐标表示图像中具有该灰度值的像素的个数或比率。

#### 直方图均衡

- 公式：
- ![image-20211120191824403](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20211120191824403.png)
  - MN为图像像素总数
  - nk是灰度为rk的像素个数
  - L是图像的灰度级数量
- 例子：![image-20211120192122953](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20211120192122953.png)

#### 直方图的规定化



### 空间滤波

#### 线性空间滤波

- 执行线性空间滤波时，必须理解两个意义相近的概念。一个是相关，另一个是卷积。
- 线性空间滤波的机制:

![convSobel](C:\Users\HP\Desktop\convSobel.gif)

- 在大小为 M X N 的图像f上，用 m X n 大小的滤波器模板进行线性滤波的表达式：

  ![image-20211119200107682](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20211119200107682.png)

- 对图像任一点(x，y)进行 m X n 模板处理得到的响应：

  ![image-20211119200201326](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20211119200201326.png)

- 3 X 3 模板：

  ![image-20211119200539698](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20211119200539698.png)

#### 非线性空间滤波

- 非线性空间滤波也是基于领域操作的，其用一个 m x n 滤波器的中心点滑过一幅图像的机理，与线性空间滤波的机理相同。然而，线性空间滤波基于计算乘积和（这是一个线性操作），而非线性空间滤波则基于涉及滤波器包围的领域内像素的非线性操作。

#### 空间滤波器分类（功能）

- 平滑滤波器：模糊处理或消除噪声。
- 锐化滤波器：增强被模糊的细节。

## 第三章（频域增强）

### 二维离散傅里叶变换（DFT)

### 离散傅里叶反变换（IDFT)

### 频率域滤波的基本步骤

![](C:\Users\HP\Desktop\20191114095404658.png)

1. 预处理：用 (-1)^(x+y) 乘以输入图像 f(x，y)，使其原点中心化。

2. 对步骤1的结果执行DFT，得到关于中心对称的频谱F(u，v)。

3. 生成一个实的、中心对称的频域滤波器H(u，v)。

4. 对滤波器H(u，v)、频谱F(u，v)执行 ***阵列相乘***（对应元素逐个对应相乘），形成乘积
   $$
   G(u，v )=H(u，v)F(u，v)
   $$
   ，其中
   $$
   G(m，n )=H(m，n)F(m，n)且0≤m≤M-1,0≤n≤N-1
   $$

5. 对步骤4的结果G(u，v)执行反DFT(IDFT)，并取其结果的实部。

6. 用(-1)^(x+y)乘以步骤5的反DFT结果的实部，得到滤波结果g(x，y)。

## 第四章（图像复原与重建）

### 图像退化

- 退化函数H

- 噪声n(x，y)

$$
g(x,y) = H[f(x,y)] + n(x,y)
$$

### 图像复原

- 在给定g(x，y)和H的基础上得到对f(x，y)的某个近似，通常采用线性的、空间不变的复原技术。

### 噪声的模型

#### 均匀噪声

![](C:\Users\HP\Desktop\噪声模型\20191106133111424.png)

#### 指数噪声

![](C:\Users\HP\Desktop\噪声模型\20191106133022740.png)

#### 高斯噪声

![](C:\Users\HP\Desktop\噪声模型\20191106132537642.png)

#### 瑞利噪声

![](C:\Users\HP\Desktop\噪声模型\20191106132827627.png)

#### 伽马噪声

![](C:\Users\HP\Desktop\噪声模型\2019110613292752.png)

#### 椒盐（脉冲）噪声

![](C:\Users\HP\Desktop\噪声模型\20191106132628644.png)

## 第五章（彩色图像处理）

### RGB图像

- 一幅RGB图像是一个 M X N X 3 的彩色像素数组，其中每个彩色像素是一个三值组，这三个值分别对应一个特定空间位置处该RGB图像的红、绿和蓝分量。
- RGB也可视为三幅灰度图像形成的“堆叠”，当将它们送到彩色显示器的红、绿、蓝输入端时，会在屏幕上生成一幅彩色图像。

### 索引图像

- 索引图像有两个分量：一个整数数据矩阵X和一个彩色映射矩阵map。
- 矩阵map是一个大小为 m x 3 的double类数组，其值是区间[0，1]上的浮点数。
- map的长度m等于其定义的颜色数。
- 索引图像将像素的灰度值“直接映射”到彩色值。

### HIS模型（色调、饱和度、亮度）

- hue，色彩
- saturation，饱和度
- intensity，强度

## 第六章（图像压缩）

- 图像压缩聚焦的问题是***减少数字图像所需的数据量问题***。

### 霍夫曼码

![](C:\Users\HP\Desktop\20190721130216464.png)

- 计算平均比特数：

![image-20211121203332286](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20211121203332286.png)

## 第七章（图像分割）

### 霍夫变换线检测

- 几条线几个点
- 斜率和截距缺点：当直线接近垂直时，斜率趋向无穷大无法表示
- 纵坐标y截距q，横坐标x斜率p
- 极坐标
- 见例题

### 阈值分割

### 区域分割

- 区域的种子点选择
- 相似性准则（生长准则）确定
- 生长停止条件确定

### 链码表示

- 4方向链码
- 8方向链码
